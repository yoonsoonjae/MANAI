MediaPipe Handsë¡œ ì‚¬ëŒì˜ ì†ë™ì‘ì„ ì¸ì‹í•˜ê³ , **UDP í†µì‹ ì„ í†µí•´ PC2 â†’ Arduino â†’ myCobot 280** ë¡œë´‡íŒ”ì„ ì¡°ì¢…í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë˜í•œ PC1ì—ì„œ ì´¬ì˜í•œ ì˜ìƒì€ Flask ì„œë²„ë¥¼ í†µí•´ **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°(URL: `/mycam`)** ìœ¼ë¡œ ì œê³µë˜ì–´ PC2ì—ì„œë„ ë™ì¼í•œ í™”ë©´ì„ ë³´ë©° ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ”§ **ì‹œìŠ¤í…œ êµ¬ì„±**

| êµ¬ì„± | ì„¤ëª… |
| --- | --- |
| PC1 | ì†ë™ì‘ ì¸ì‹ + UDP ë¡œë´‡ ì œì–´ ëª…ë ¹ ì†¡ì‹  + Flask ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë° |
| PC2 | PC1 ì˜ìƒ ìˆ˜ì‹  + ë¡œë´‡ ì œì–´ ëª…ë ¹ ìˆ˜ì‹  í›„ Arduinoë¡œ ì „ë‹¬ |
| ë¡œë´‡ | myCobot 280 for Arduino |

## ğŸ® **ì œì–´ ë°©ì‹**

| ì¡°ì‘ | ë™ì‘ |
| --- | --- |
| ì† ìœ„ì¹˜(Xì¶•) | ë¡œë´‡ J1 íšŒì „ |
| ì† ë†’ì´(Yì¶•) | ë¡œë´‡ íŒ”(ì–´ê¹¨/íŒ”ê¿ˆì¹˜) ìƒìŠ¹/í•˜ê°• |
| ì†ë°”ë‹¥ ê¸°ìš¸ê¸°(ë²•ì„  ë²¡í„°) | ì†ëª© Pitch â†’ J4 |
| ì£¼ë¨¹ ì¥  | ê·¸ë¦¬í¼ ë‹«ê¸° |
| ì† í´ê¸° | ê·¸ë¦¬í¼ ì—´ê¸° |

## ğŸ“· **Flask ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**

PC1ì˜ ì›¹ìº  ì˜ìƒì€ ë‹¤ìŒ ì£¼ì†Œì—ì„œ ìŠ¤íŠ¸ë¦¬ë°ë©ë‹ˆë‹¤:

```
http://localhost:5000/mycam

```

## main2.py **ì‹¤í–‰ ë°©ë²•**

### 1) Python Requirements

```bash
pip install opencv-python mediapipe flask

```

### 2) ì½”ë“œ ì‹¤í–‰

```bash
python main2.py
```

ì‹¤í–‰ ì‹œ ì¶œë ¥:

```
[PC1] Flask Stream on http://localhost:5000/mycam

```

### ğŸ¯ ì† Landmark ê¸°ë°˜ ê³„ì‚°

| ê¸°ëŠ¥ | ì‚¬ìš© Landmark |
| --- | --- |
| ì† ìœ„ì¹˜(X) â†’ J1 | ëª¨ë“  Landmark í‰ê·  X |
| íŒ” Pitch | ì†ëª© Y ì¢Œí‘œ |
| ë…¸ë©€ ë²¡í„° ê³„ì‚° | Index MCP(5), Pinky MCP(17), Wrist(0) |
| ì£¼ë¨¹ ê°ì§€ | Tip(8,12,16,20) / PIP ë¹„êµ |


### ğŸ“Œ **PC2 Receiver + Camera Streaming + Arduino Control**

PC2ëŠ” PC1ì—ì„œ ë³´ë‚¸ **ë¡œë´‡ ê°ë„ ëª…ë ¹(UDP)**ì„ ë°›ì•„ì„œ **Arduino â†’ myCobot**ì— ì „ë‹¬í•œë‹¤. ë™ì‹œì— PC2ì— ì—°ê²°ëœ ì¹´ë©”ë¼ ì˜ìƒì„ Flaskë¡œ ì†¡ì¶œí•˜ì—¬ ì›ê²© ì œì–´ ì‹œ ì°¸ê³  í™”ë©´ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.

## ğŸ–¥ï¸ **PC2 ë™ì‘ ì—­í• **

| ê¸°ëŠ¥ | ì„¤ëª… |
| --- | --- |
| UDP ìˆ˜ì‹ (í¬íŠ¸ 5051) | PC1ì—ì„œ ì „ì†¡ëœ ì¡°ì¸íŠ¸/ê·¸ë¦¬í¼ ëª…ë ¹ ìˆ˜ì‹  |
| Arduino ì§ë ¬ ì „ì†¡ | ìˆ˜ì‹ í•œ ê°ë„ë¥¼ `ANGLE:` í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ |
| ê·¸ë¦¬í¼ ì œì–´ | ê·¸ë¦¬í¼ ê°’ ë³€í™” ì‹œ `GRIP:` ëª…ë ¹ìœ¼ë¡œ ì „ì†¡ |
| ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¬ë° | PC2 ì›¹ìº  ì‹¤ì‹œê°„ ì˜ìƒ ì œê³µ `/cam` |

ğŸ“ PC1ì€ ì‚¬ëŒ ì†ì„ ë³´ê³  ì œì–´ /

ğŸ“ PC2ëŠ” ë¡œë´‡ì— ëª…ë ¹ë§Œ ì „ë‹¬í•˜ëŠ” êµ¬ì¡°

## ğŸš€ ì‹¤í–‰ ë°©ë²• (server.py)

### 1) Python ì‹¤í–‰

```bash
python serve.py

```

ì‹¤í–‰ í›„ ì¶œë ¥ ì˜ˆ:

```
[PC2] Arduino Connected: COM7
[PC2] UDP ì„œë²„ ì‹œì‘ (í¬íŠ¸ 5051)
```

### 2) ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¼ ë³´ê¸°

PC2ì—ì„œ ë‹¤ìŒ ì£¼ì†Œ ì ‘ì†:

```
http://localhost:8000/cam
```

PC1ì—ì„œë„ ì›í•˜ë©´ ë™ì¼ ì£¼ì†Œë¡œ ìŠ¤íŠ¸ë¦¼ ì°¸ê³  ê°€ëŠ¥.

## ğŸ“¡ **UDP ë°ì´í„° ìˆ˜ì‹  í˜•ì‹**

PC1 â†’ PC2ë¡œ ì•„ë˜ í¬ë§· ì „ì†¡:

```
J1,J2,J3,J4,GRIP
```

ì˜ˆì‹œ:

```
15,10,30,-5,100
```

## ğŸ¤– **Arduinoë¡œ ì „ë‹¬ë˜ëŠ” ëª…ë ¹**

PC2ëŠ” ìˆ˜ì‹ ëœ ë°ì´í„°ë¥¼ ì•„ë˜ í˜•ì‹ìœ¼ë¡œ Arduinoì— ì „ì†¡:

| êµ¬ë¶„ | í¬ë§· | ì˜ˆì‹œ |
| --- | --- | --- |
| ë¡œë´‡ ê´€ì ˆ | `ANGLE:J1,J2,J3,J4,0,0` | `ANGLE:15,10,30,-5,0,0` |
| ê·¸ë¦¬í¼ | `GRIP:VALUE` | `GRIP:100` |

> âš  ë§ˆì§€ë§‰ 2ê°œ ê´€ì ˆì€ myCobot 280 for Arduinoì—ì„œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ 0,0ìœ¼ë¡œ ê³ ì •.
> 

---

## ğŸ§  ì½”ë“œ ì£¼ìš” ì„¤ëª…

### ğŸ”Œ Arduino ì—°ê²°

```python
ser = serial.Serial(ARDUINO_PORT, ARDUINO_BAUD, timeout=1)

```

### ğŸŒ UDP ìˆ˜ì‹  ì“°ë ˆë“œ

```python
threading.Thread(target=udp_loop, daemon=True).start()

```

### ğŸ¤– ëª…ë ¹ ë¶„ë¦¬ ì²˜ë¦¬

```python
angle_cmd = f"ANGLE:{j1},{j2},{j3},{j4},0,0\n"
grip_cmd  = f"GRIP:{grip}\n"

```

### ğŸ¥ ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¬ë°

```python
@app.route("/cam")
def cam():
    return Response(gen(), mimetype="multipart/x-mixed-replace; boundary=frame")

```
